{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixarbay-api.js","../src/main.js"],"sourcesContent":["//У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n\nexport function createGalleryMarkup(array) {\n  return array\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" alt=\"${image.tags}\">\n              <img src=\"${image.webformatURL}\" >\n          </a>\n              <div>\n              <table>\n                  <thead>\n                      <tr>\n                          <th>Likes</th>\n                          <th>Views</th>\n                          <th>Comments</th>\n                          <th>Downloads</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr>\n                          <td>${image.likes}</td>\n                          <td>${image.views}</td>\n                          <td>${image.comments}</td>\n                          <td>${image.downloads}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n              </div>\n         </li>`\n    )\n    .join('');\n}\n","// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n\nexport function getPhotos(q) {\n  const baseUrl = 'https://pixabay.com/api';\n  const API_KEY = '43362047-b69de0f8b7d88fd6ec05c5589';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${baseUrl}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n      //   if(res)\n    }\n    return res.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { createGalleryMarkup } from './js/render-functions';\nimport { getPhotos } from './js/pixarbay-api';\n\nconst formElement = document.querySelector('[name=\"search\"]');\nconst inputElement = document.querySelector('input');\nconst galleryArea = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nformElement.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements.search.value.trim();\n\n  galleryArea.innerHTML = '';\n\n  if (!searchQuery) return;\n  showLoader();\n\n  getPhotos(searchQuery)\n    .then(res => {\n      if (res.hits.length === 0) {\n        return iziToast.error({\n          position: 'topRight',\n\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          maxWidth: '432',\n          messageColor: '#fafafb',\n          color: '#ef4040',\n        });\n      }\n\n      galleryArea.innerHTML = createGalleryMarkup(res.hits);\n\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a');\n      } else {\n        lightbox.refresh();\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      hiddeLoader();\n    });\n  inputElement.value = '';\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hiddeLoader() {\n  loader.classList.add('is-hidden');\n}\n"],"names":["createGalleryMarkup","array","image","getPhotos","q","baseUrl","API_KEY","params","res","formElement","inputElement","galleryArea","loader","lightbox","onSubmit","event","searchQuery","showLoader","iziToast","SimpleLightbox","err","hiddeLoader"],"mappings":"6vBAEO,SAASA,EAAoBC,EAAO,CACzC,OAAOA,EACJ,IACCC,GACE;AAAA,qBACaA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA,0BAClCA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAcZA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,gCACXA,EAAM,QAAQ;AAAA,gCACdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,eAM1C,EACA,KAAK,EAAE,CACZ,CC/BO,SAASC,EAAUC,EAAG,CAC3B,MAAMC,EAAU,0BACVC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAAF,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGC,CAAO,KAAKE,CAAM,EAAE,EAAE,KAAKC,GAAO,CAChD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CCbA,MAAMC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAe,SAAS,cAAc,OAAO,EAC7CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJJ,EAAY,iBAAiB,SAAUK,CAAQ,EAE/C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,OAAO,MAAM,OAE9DJ,EAAY,UAAY,GAEnBK,IACLC,IAEAd,EAAUa,CAAW,EAClB,KAAKR,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EACtB,OAAOU,EAAS,MAAM,CACpB,SAAU,WAEV,QACE,2EACF,SAAU,MACV,aAAc,UACd,MAAO,SACjB,CAAS,EAGHP,EAAY,UAAYX,EAAoBQ,EAAI,IAAI,EAE/CK,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIM,EAAe,YAAY,CAIlD,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EACHX,EAAa,MAAQ,GACvB,CAEA,SAASO,GAAa,CACpBL,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASS,GAAc,CACrBT,EAAO,UAAU,IAAI,WAAW,CAClC"}